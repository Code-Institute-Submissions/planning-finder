{% extends "home/base.html" %}
{% load static from staticfiles %}

{% block style %}
<link rel="stylesheet" href="{% static 'libraries/nouislider/nouislider.css' %}">
{% endblock style %}

{% block content %}
<div class="row h-100">
    <div id="list-view2" class="col-sm-6 position-absolute">
        <div class="position-fixed w-100 ml-n3 collapse bring-to-front" id="collapseExample">
            <div id="application-type-options" class="bg-light border-top card-body position-absolute shadow-sm col-sm-12 col-md-12 col-lg-6 col-xl-4">
                <button id="pending" type="button" class="btn btn-outline-secondary mt-3 mr-2">Pending</button>
                <button id="granted" type="button" class="btn btn-outline-secondary mt-3 mr-2">Granted</button>
                <button id="refused" type="button" class="btn btn-outline-secondary mt-3 mr-2">Refused</button>
                <button id="invalid" type="button" class="btn btn-outline-secondary mt-3 mr-2">Invalid</button>
                <button id="withdrawn" type="button" class="btn btn-outline-secondary mt-3 mr-2">Withdrawn</button>
                <button id="information" type="button" class="btn btn-outline-secondary mt-3 mr-2">Additional Information</button>
            </div>
        </div>
        <div class="position-fixed w-100 ml-n3 collapse bring-to-front" id="dateSliderMain">
            <div id="price-slider-options" class="bg-light border-top card-body position-absolute shadow-sm  col-sm-12 col-md-12 col-lg-6 col-xl-4">
                <div id="dateSlider" class="m-5"></div>
            </div>
        </div>
    </div>
    <div id="list-view" class="app-list overflow-auto list-group list-group-flush col-12 col-sm-6 col-lg-6 col-xl-4">
    </div>
    <div id="map" class="col-12 col-sm-6 col-lg-6 col-xl-8"></div>
</div>
<button class="btn checkout" id="submitBtn" role="button" data-toggle="tooltip" data-placement="right" title="Want to buy me a Coffee?">
    <svg  height="24" viewBox="0 0 24 24" width="24">
        <path d="M0 0h24v24H0V0z" fill="none"></path>
        <path d="M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z"></path>
    </svg>
</button>

{% endblock content %}

{% block javascript %}
<script>
$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
</script>
<script src="{% static 'libraries/nouislider/nouislider.js' %}"></script>
<script src="{% static 'libraries/jquery-scrollintoview/jquery.scrollintoview.min.js' %}"></script>
<script src="{% static 'js/config.js' %}"></script>
<script>
    {% if user.is_authenticated and user.profile %}
    mapConfig.userLocation.lng = {{ user.profile.location.x }}
    mapConfig.userLocation.lat = {{ user.profile.location.y }}
    bookmarkConfig.bookmarks = {{ bookmarks | safe }}
    const userLoggedIn = true;
    {% else %}
    const userLoggedIn = false;
    {% endif %}
    const planningData = JSON.parse('{{ data| escapejs }}')
    const councilData = "{% static 'data/councils-dublin.geojson' %}"
</script>
<script src="{% static 'js/functions.js' %}"></script>
<script src="{% static 'js/map.js' %}"></script>

{{ block.super }}
 <script src="https://js.stripe.com/v3/"></script>
<script src="{% static 'js/payments.js' %}"></script>
{% endblock javascript %}